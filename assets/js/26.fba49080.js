(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{331:function(t,s,v){"use strict";v.r(s);var a=v(10),_=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"bilibili-api-collect"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bilibili-api-collect"}},[t._v("#")]),t._v(" bilibili-API-collect")]),t._v(" "),s("p",[t._v("欢迎来到 bilibili-API-collect 社区贡献指南，本文主要面向需要进行提交贡献文档内容的用户。")]),t._v(" "),s("h2",{attrs:{id:"总则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总则"}},[t._v("#")]),t._v(" 总则")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/SocialSisterYi/bilibili-API-collect",target:"_blank",rel:"noopener noreferrer"}},[t._v("bilibili-API-collect"),s("OutboundLink")],1),t._v(" 项目（简称 BAC 或 b-a-c）是一个仅用于学习研究、社区开源、公益性质的 "),s("a",{attrs:{href:"https://www.bilibili.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("B站（哔哩哔哩）"),s("OutboundLink")],1),t._v(" API（应用程序接口） 文档，使用 "),s("a",{attrs:{href:"LICENSE"}},[t._v("CC-BY-NC 4.0 协议")]),t._v(" 开源，它将无差别收集整理相关的"),s("strong",[t._v("主站业务接口")]),t._v("。")]),t._v(" "),s("p",[t._v("该项目使用 "),s("a",{attrs:{href:"https://zh.wikipedia.org/zh-cn/Markdown",target:"_blank",rel:"noopener noreferrer"}},[t._v("MarkDown"),s("OutboundLink")],1),t._v(" 语法进行文档书写，按照业务类型及功能以 "),s("strong",[t._v("路径")]),t._v(" + "),s("strong",[t._v("文件")]),t._v(" 形式索引，任何用户都可通过 Pull Request 提供自己分析出的接口地址与使用说明。")]),t._v(" "),s("p",[t._v("本项目收集的接口类型包括但不限于 REST API、gRPC、WebSocket，文档内统一优先使用安全套接字协议，如"),s("code",[t._v("https")]),t._v("、"),s("code",[t._v("securityRpc")]),t._v("、"),s("code",[t._v("wss")]),t._v("。")]),t._v(" "),s("h2",{attrs:{id:"目录与路径结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目录与路径结构"}},[t._v("#")]),t._v(" 目录与路径结构")]),t._v(" "),s("h3",{attrs:{id:"目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目录"}},[t._v("#")]),t._v(" 目录")]),t._v(" "),s("p",[t._v("文档目录以 "),s("strong",[t._v("Markdown无序列表")]),t._v(" 语法写在 "),s("RouterLink",{attrs:{to:"/"}},[t._v("README.md")]),t._v(" 中，使用缩进标识文档的层级，如"),s("code",[t._v("视频")]),t._v("下存在"),s("code",[t._v("基本信息")]),t._v("、"),s("code",[t._v("快照")]),t._v("、"),s("code",[t._v("推荐")]),t._v("等子分类，使用 "),s("strong",[t._v("Markdown 复选框")]),t._v(" 语法该标注文档是否编写完成")],1),t._v(" "),s("div",{staticClass:"language-markdown line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-markdown"}},[s("code",[s("span",{pre:!0,attrs:{class:"token list punctuation"}},[t._v("-")]),t._v(" [x] 视频\n  "),s("span",{pre:!0,attrs:{class:"token list punctuation"}},[t._v("-")]),t._v(" [x] 基本信息\n  "),s("span",{pre:!0,attrs:{class:"token list punctuation"}},[t._v("-")]),t._v(" [x] 快照\n  "),s("span",{pre:!0,attrs:{class:"token list punctuation"}},[t._v("-")]),t._v(" [x] 推荐\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("h3",{attrs:{id:"路径"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#路径"}},[t._v("#")]),t._v(" 路径")]),t._v(" "),s("p",[t._v("路径层级应当与文档目录一致，以文件夹的形式存放在项目中的"),s("code",[t._v("/docs")]),t._v("路径下，命名统一使用英文，如"),s("code",[t._v("video")]),t._v("、"),s("code",[t._v("danmaku")]),t._v("、"),s("code",[t._v("comment")])]),t._v(" "),s("p",[t._v("二级、三级路径应当存在二级三级目录，以"),s("code",[t._v("README.md")]),t._v("的形式")]),t._v(" "),s("h3",{attrs:{id:"文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件"}},[t._v("#")]),t._v(" 文件")]),t._v(" "),s("p",[t._v("各个子接口集整理为 md 文件，命名统一使用英文，如"),s("code",[t._v("info.md")]),t._v("、"),s("code",[t._v("action.md")]),t._v("、"),s("code",[t._v("list.md")])]),t._v(" "),s("p",[t._v("文档文件中用于存放相关的接口的说明，如"),s("code",[t._v("video/")]),t._v("下的"),s("code",[t._v("info.md")]),t._v("，存在"),s("code",[t._v("查询视频基本信息")]),t._v("、"),s("code",[t._v("查询视频简介")]),t._v("、"),s("code",[t._v("查询视频分P列表")]),t._v("等内容")]),t._v(" "),s("h2",{attrs:{id:"markdown文档内容格式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#markdown文档内容格式"}},[t._v("#")]),t._v(" Markdown文档内容格式")]),t._v(" "),s("p",[t._v("文档使用 "),s("a",{attrs:{href:"https://vuepress.vuejs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vuepress"),s("OutboundLink")],1),t._v(" 生成，可以使用 "),s("a",{attrs:{href:"https://vuepress.vuejs.org/guide/markdown.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vuepress md 扩展语法"),s("OutboundLink")],1),t._v("编写")]),t._v(" "),s("p",[t._v("注：以下文档范式可根据"),s("strong",[t._v("实际情况")]),t._v("进行调整")]),t._v(" "),s("h3",{attrs:{id:"头部"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#头部"}},[t._v("#")]),t._v(" 头部")]),t._v(" "),s("p",[t._v("文档首行为 "),s("strong",[t._v("一级标签")]),t._v(" 格式标题")]),t._v(" "),s("p",[s("strong",[t._v("文档头部不再需要手写索引")])]),t._v(" "),s("h3",{attrs:{id:"接口说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#接口说明"}},[t._v("#")]),t._v(" 接口说明")]),t._v(" "),s("p",[t._v("文档中可存在多个接口说明，应当遵守同一范式，依次排列在文档中")]),t._v(" "),s("p",[t._v("接口说明分为"),s("code",[t._v("标题")]),t._v("、"),s("code",[t._v("地址")]),t._v("、"),s("code",[t._v("说明")]),t._v("、"),s("code",[t._v("请求参数")]),t._v("、"),s("code",[t._v("响应正文")]),t._v("、"),s("code",[t._v("示例")]),t._v("这些部分")]),t._v(" "),s("p",[t._v("接口标题为 "),s("strong",[t._v("二级以下")]),t._v(" 的标签，接口地址使用 "),s("strong",[t._v("引用")]),t._v(" 语法，地址只保留 REST API 路径，不应携带 query 等内容")]),t._v(" "),s("p",[t._v("接口地址下方需要注明接口的请求方式，如"),s("code",[t._v("GET")]),t._v("、"),s("code",[t._v("POST")]),t._v("、"),s("code",[t._v("PUT")]),t._v("等，使用 "),s("strong",[t._v("斜体")]),t._v(" 语法")]),t._v(" "),s("p",[t._v("若接口存在认证或鉴权，需要在说明中注明，如"),s("code",[t._v("Cookie(SESSDATA)")]),t._v("、"),s("code",[t._v("APP")]),t._v("（认证是针对用户的，鉴权是针对接口使用的")]),t._v(" "),s("p",[t._v("其他使用说明也可写在这里，如"),s("code",[t._v("限制游客访问的视频需要登录")])]),t._v(" "),s("p",[t._v("eg：")]),t._v(" "),s("div",{staticClass:"language-markdown line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-markdown"}},[s("code",[s("span",{pre:!0,attrs:{class:"token title important"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("##")]),t._v(" 获取视频详细信息_web端")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token blockquote punctuation"}},[t._v(">")]),t._v(" https://api.bilibili.com/x/web-interface/view\n\n"),s("span",{pre:!0,attrs:{class:"token italic"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token content"}},[t._v("请求方式：GET")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("*")])]),t._v("\n\n认证方式：Cookie(SESSDATA)\n\n限制游客访问的视频需要登录\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("p",[s("strong",[t._v("请求参数")]),t._v("应在"),s("strong",[t._v("接口说明")]),t._v("的下方，应注明参数类型 url 参数或 正文参数（正文参数应注明 content-type，如"),s("code",[t._v("application/x-www-form-urlencoded")]),t._v("或"),s("code",[t._v("multipart/form-data")]),t._v("），使用 "),s("strong",[t._v("加粗")]),t._v(" 语法")]),t._v(" "),s("p",[t._v("对象的字段及其含义使用 "),s("strong",[t._v("表格")]),t._v(" 进行整理，表头统一为"),s("code",[t._v("参数名")]),t._v("、"),s("code",[t._v("类型")]),t._v("、"),s("code",[t._v("内容")]),t._v("、"),s("code",[t._v("必要性")]),t._v("、"),s("code",[t._v("备注")]),t._v("，类型为"),s("code",[t._v("num")]),t._v("、"),s("code",[t._v("str")]),t._v("、"),s("code",[t._v("bool")]),t._v("、"),s("code",[t._v("nums")]),t._v("、"),s("code",[t._v("strs")]),t._v("、"),s("code",[t._v("file")]),t._v("等，必要性为"),s("code",[t._v("必要")]),t._v("、"),s("code",[t._v("非必要")]),t._v("、"),s("code",[t._v("必要(可选)")]),t._v("等，表格内每个字段为一行")]),t._v(" "),s("p",[t._v("eg：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("参数名")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("内容")]),t._v(" "),s("th",[t._v("必要性")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("aid")]),t._v(" "),s("td",[t._v("num")]),t._v(" "),s("td",[t._v("稿件 avid")]),t._v(" "),s("td",[t._v("必要 (可选)")]),t._v(" "),s("td",[t._v("avid 与 bvid 任选")])]),t._v(" "),s("tr",[s("td",[t._v("bvid")]),t._v(" "),s("td",[t._v("str")]),t._v(" "),s("td",[t._v("稿件 bvid")]),t._v(" "),s("td",[t._v("必要 (可选)")]),t._v(" "),s("td",[t._v("avid 与 bvid 任选")])])])]),t._v(" "),s("p",[s("strong",[t._v("响应正文")]),t._v("应在"),s("strong",[t._v("请求参数")]),t._v("的下方，接口响应的数据格式应标注，如"),s("code",[t._v("JSON回复")]),t._v("、"),s("code",[t._v("XML回复")]),t._v("、"),s("code",[t._v("Protobuf回复")]),t._v("，使用 "),s("strong",[t._v("加粗")]),t._v(" 语法")]),t._v(" "),s("p",[t._v("json object 或 protobuf message 应以对象的 "),s("strong",[t._v("表格")]),t._v(" 形式书写，表头为"),s("code",[t._v("根对象")]),t._v("或"),s("code",[t._v("xx中的yy对象")]),t._v("，若对象位于数组中为"),s("code",[t._v("xx数组中的对象")])]),t._v(" "),s("p",[t._v("表头统一为"),s("code",[t._v("字段")]),t._v("、"),s("code",[t._v("类型")]),t._v("、"),s("code",[t._v("内容")]),t._v("、"),s("code",[t._v("备注")]),t._v("，类型为 JSON / Protobuf 的标准类型")]),t._v(" "),s("p",[t._v("不明确定义的字段说明在末尾添加问号，如"),s("code",[t._v("播放数？")]),t._v("；定义尚未明确的字段使用问号包于括号中占位，如"),s("code",[t._v("（？）")])]),t._v(" "),s("p",[t._v("多个对象及数组，使用"),s("strong",[t._v("遍历树")]),t._v("的顺序进行排列")]),t._v(" "),s("p",[t._v("eg：")]),t._v(" "),s("p",[s("code",[t._v("data")]),t._v("对象：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("字段")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("内容")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("bvid")]),t._v(" "),s("td",[t._v("str")]),t._v(" "),s("td",[t._v("稿件 bvid")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("aid")]),t._v(" "),s("td",[t._v("num")]),t._v(" "),s("td",[t._v("稿件 avid")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("videos")]),t._v(" "),s("td",[t._v("num")]),t._v(" "),s("td",[t._v("稿件分P总数")]),t._v(" "),s("td",[t._v("默认为 1")])]),t._v(" "),s("tr",[s("td",[t._v("tid")]),t._v(" "),s("td",[t._v("num")]),t._v(" "),s("td",[t._v("分区 tid")]),t._v(" "),s("td")])])]),t._v(" "),s("p",[t._v("json array 或 protobuf repeated 类型使用数组的 "),s("strong",[t._v("表格")]),t._v(" 形式书写，表头统一为"),s("code",[t._v("项")]),t._v("、"),s("code",[t._v("类型")]),t._v("、"),s("code",[t._v("内容")]),t._v("、"),s("code",[t._v("备注")]),t._v("，无限长度数组表尾需要添加"),s("strong",[t._v("省略号")])]),t._v(" "),s("p",[t._v("数组每项内容若与实际数据有关联，"),s("code",[t._v("内容")]),t._v("字段则可标为"),s("code",[t._v("(n+1)P 视频内容")]),t._v("这样的形式")]),t._v(" "),s("p",[t._v("eg：")]),t._v(" "),s("p",[s("code",[t._v("data")]),t._v("中的"),s("code",[t._v("pages")]),t._v("数组：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("项")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("内容")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("0")]),t._v(" "),s("td",[t._v("obj")]),t._v(" "),s("td",[t._v("1P 视频内容")]),t._v(" "),s("td",[t._v("无分P仅有此项")])]),t._v(" "),s("tr",[s("td",[t._v("n")]),t._v(" "),s("td",[t._v("obj")]),t._v(" "),s("td",[t._v("(n+1)P 视频内容")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("……")]),t._v(" "),s("td",[t._v("obj")]),t._v(" "),s("td",[t._v("……")]),t._v(" "),s("td",[t._v("……")])])])]),t._v(" "),s("p",[s("strong",[t._v("示例")]),t._v("部分位于所有"),s("strong",[t._v("响应正文")]),t._v("部分下方，需要"),s("strong",[t._v("加粗")]),t._v("格式，分为请求命令示例与响应体示例两部分")]),t._v(" "),s("p",[t._v("请求命令示例为一段可测试该接口的 curl 命令或 Python 脚本，使用 "),s("strong",[t._v("代码块")]),t._v(" 语法书写，命令应当尽可能简短、便于使人阅读")]),t._v(" "),s("p",[t._v("示例命令中的认证信息应做"),s("strong",[t._v("脱敏处理")]),t._v("，如 Cookie、Token、access_key 等，可替换为"),s("code",[t._v("xxx")]),t._v("占位")]),t._v(" "),s("p",[t._v("示例命令前后可以适当添加一些文字说明")]),t._v(" "),s("p",[t._v("响应体示例为一段格式化后的 JSON 或 protobuf message，使用 "),s("strong",[t._v("代码块")]),t._v(" 语法书写，并使用"),s("code",[t._v("<details>")]),t._v("标签进行折叠")]),t._v(" "),s("p",[t._v("eg：")]),t._v(" "),s("p",[s("strong",[t._v("示例：")])]),t._v(" "),s("p",[t._v("获取视频"),s("code",[t._v("av85440373")]),t._v("的基本信息")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-G")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://api.bilibili.com/x/web-interface/view'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n\t--data-urlencode "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'aid=85440373'")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("details")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("summary")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("查看响应示例："),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("summary")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"message"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ttl"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"bvid"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"BV117411r7R1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"aid"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("85440373")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"videos"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tid"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("28")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tname"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"原创音乐"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"copyright"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    ...\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("details")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"枚举值与属性位"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#枚举值与属性位"}},[t._v("#")]),t._v(" 枚举值与属性位")]),t._v(" "),s("p",[t._v("接口返回或请求中若存在一些 enum 类型或二进制属性位，应当单独进行探讨，如视频的属性位"),s("code",[t._v("attribute")]),t._v("或视频清晰度"),s("code",[t._v("qn")])]),t._v(" "),s("p",[t._v("这些值及其说明使用 "),s("strong",[t._v("表格")]),t._v(" 进行整理，表头统一为"),s("code",[t._v("位")]),t._v(" / "),s("code",[t._v("代码")]),t._v(" / "),s("code",[t._v("值")]),t._v("、"),s("code",[t._v("含义")]),t._v("、"),s("code",[t._v("备注")])]),t._v(" "),s("p",[t._v("这些枚举值或属性位的用法应附加文字说明")]),t._v(" "),s("p",[t._v("eg：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("值")]),t._v(" "),s("th",[t._v("含义")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("6")]),t._v(" "),s("td",[t._v("240P 极速")]),t._v(" "),s("td",[t._v("仅 MP4 格式支持"),s("br"),t._v("仅"),s("code",[t._v("platform=html5")]),t._v("时有效")])]),t._v(" "),s("tr",[s("td",[t._v("16")]),t._v(" "),s("td",[t._v("360P 流畅")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("32")]),t._v(" "),s("td",[t._v("480P 清晰")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("64")]),t._v(" "),s("td",[t._v("720P 高清")]),t._v(" "),s("td",[t._v("WEB 端默认值"),s("br"),t._v("B站前端需要登录才能选择，但是直接发送请求可以不登录就拿到 720P 的取流地址"),s("br"),s("strong",[t._v("无 720P 时则为 720P60")])])]),t._v(" "),s("tr",[s("td",[t._v("74")]),t._v(" "),s("td",[t._v("720P60 高帧率")]),t._v(" "),s("td",[t._v("登录认证")])]),t._v(" "),s("tr",[s("td",[t._v("80")]),t._v(" "),s("td",[t._v("1080P 高清")]),t._v(" "),s("td",[t._v("TV 端与 APP 端默认值"),s("br"),t._v("登录认证")])])])]),t._v(" "),s("h2",{attrs:{id:"proto定义格式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#proto定义格式"}},[t._v("#")]),t._v(" Proto定义格式")]),t._v(" "),s("p",[t._v("proto 文件为 "),s("a",{attrs:{href:"https://protobuf.dev/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Protocol Buffers"),s("OutboundLink")],1),t._v(" 以及 "),s("a",{attrs:{href:"https://grpc.io/docs/",target:"_blank",rel:"noopener noreferrer"}},[t._v("gRPC"),s("OutboundLink")],1),t._v(" 的数据结构体定义，多用于客户端的接口，本文档也做相关的收集")]),t._v(" "),s("p",[t._v("存放于项目的"),s("code",[t._v("/grpc_api")]),t._v("路径下，使用包名进行路径层级的组织，如")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("/grpc_api/bilibili/main/community/reply/v1/reply.proto\n/grpc_api/bilibili/app/archive/v1/archive.proto\n/grpc_api/bilibili/app/view/v1/view.proto\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("proto 文件内使用 "),s("strong",[t._v("单行注释")]),t._v(" 标注字段或对象的含义，如")]),t._v(" "),s("div",{staticClass:"language-protobuf line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-protobuf"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// UP主信息")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Author")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// UP主mid")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int64")]),t._v(" mid "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// UP主昵称")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// UP主头像url")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" face "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("h2",{attrs:{id:"文档提交"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文档提交"}},[t._v("#")]),t._v(" 文档提交")]),t._v(" "),s("p",[t._v("TODO")]),t._v(" "),s("h2",{attrs:{id:"issue与社群讨论"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#issue与社群讨论"}},[t._v("#")]),t._v(" Issue与社群讨论")]),t._v(" "),s("p",[t._v("对文档内容存在"),s("strong",[t._v("不理解")]),t._v("之处、以及发现文档内容有所"),s("strong",[t._v("缺失")]),t._v("或"),s("strong",[t._v("错误")]),t._v("，可直接提出，强烈建议以发 "),s("strong",[t._v("Issue")]),t._v(" 的形式参与用户反馈，并希望关于本项目的各种交流都是"),s("strong",[t._v("公开进行")]),t._v("的，因为这样才可以保证关键信息的一致性。")]),t._v(" "),s("p",[t._v("由于本项目属于文档型项目，故不设置 Issue 模板，同时允许中英文标题，但提交 Issue 请遵守以下原则：")]),t._v(" "),s("ol",[s("li",[t._v("标题言简意骇，说明欲提出的问题要点，如"),s("code",[t._v("如何通过xx接口获取yy")]),t._v("、"),s("code",[t._v("xx接口地址已失效")]),t._v("、"),s("code",[t._v("关于xx字段意义的探讨")]),t._v("、"),s("code",[t._v("建议将xx加入yy分类")]),t._v("等标题；切勿使用表意含糊不清或索取性的标题，如"),s("code",[t._v("怎么解决风控")]),t._v("、"),s("code",[t._v("补充")]),t._v("、"),s("code",[t._v("搜索的接口是什么")]),t._v("、"),s("code",[t._v("好兄弟有没有投稿的接口")]),t._v("等标题")]),t._v(" "),s("li",[t._v("Issue 正文应对问题进行尽可能详细的描述，展开并聚焦有关的信息，例如：“在前端页面某地址 / APP 某界面会访问某 API（标明地址），它的某参数与文档中不符（标明文档地址）”")]),t._v(" "),s("li",[t._v("提出问题时注意 "),s("a",{attrs:{href:"https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way/blob/main/README-zh_CN.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("提问的智慧"),s("OutboundLink")],1),t._v(" 并且 "),s("a",{attrs:{href:"https://github.com/tangx/Stop-Ask-Questions-The-Stupid-Ways",target:"_blank",rel:"noopener noreferrer"}},[t._v("别像弱智一样提问"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("同时，你还可以通过加入社群的方式参与讨论（包括但不限于本项目")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("QQ 交流群："),s("a",{attrs:{href:"https://jq.qq.com/?_wv=1027&k=s1M0LCcu",target:"_blank",rel:"noopener noreferrer"}},[t._v("邀请链接"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[t._v("Telegram 交流群："),s("a",{attrs:{href:"https://t.me/bilibili_API_collect_community",target:"_blank",rel:"noopener noreferrer"}},[t._v("@bilibili_API_collect_community"),s("OutboundLink")],1)])])]),t._v(" "),s("p",[t._v("注意：群内讨论同样需要遵守"),s("strong",[t._v("公开交流")]),t._v("的原则，以及群内会定期清理不活跃成员")])])}),[],!1,null,null,null);s.default=_.exports}}]);
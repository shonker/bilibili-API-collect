(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{407:function(t,s,a){"use strict";a.r(s);var e=a(10),r=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"登录操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#登录操作"}},[t._v("#")]),t._v(" 登录操作")]),t._v(" "),s("p",[t._v("人机验证方式登录包含"),s("strong",[t._v("账号密码登录")]),t._v("与手"),s("strong",[t._v("机短信验证码登录")])]),t._v(" "),s("p",[s("strong",[t._v("注：扫码登录")]),t._v("不需要进行"),s("strong",[t._v("人机验证")]),t._v("，故"),s("strong",[t._v("不使用")]),t._v("以下接口")]),t._v(" "),s("h2",{attrs:{id:"扫码登录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#扫码登录"}},[t._v("#")]),t._v(" 扫码登录")]),t._v(" "),s("ul",[s("li",[s("RouterLink",{attrs:{to:"/docs/login/login_action/QR.html"}},[t._v("扫码登录")])],1)]),t._v(" "),s("h2",{attrs:{id:"验证登录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#验证登录"}},[t._v("#")]),t._v(" 验证登录")]),t._v(" "),s("p",[t._v("人机验证流程：")]),t._v(" "),s("ol",[s("li",[t._v("请求验证码参数，得到登录密钥"),s("code",[t._v("key")]),t._v("与极验id"),s("code",[t._v("gt")]),t._v("和极验KEY"),s("code",[t._v("challenge")])]),t._v(" "),s("li",[t._v("进行滑动or点击验证")]),t._v(" "),s("li",[t._v("返回验证结果"),s("code",[t._v("validate")]),t._v("与"),s("code",[t._v("seccode")]),t._v("，进行短信或密码登录")])]),t._v(" "),s("h3",{attrs:{id:"申请captcha验证码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#申请captcha验证码"}},[t._v("#")]),t._v(" 申请captcha验证码")]),t._v(" "),s("blockquote",[s("p",[t._v("https://passport.bilibili.com/x/passport-login/captcha?source=main_web")])]),t._v(" "),s("p",[s("em",[t._v("请求方式：GET")])]),t._v(" "),s("p",[s("strong",[t._v("json回复：")])]),t._v(" "),s("p",[t._v("根对象：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("字段")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("内容")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("code")]),t._v(" "),s("td",[t._v("num")]),t._v(" "),s("td",[t._v("返回值")]),t._v(" "),s("td",[t._v("0：成功")])]),t._v(" "),s("tr",[s("td",[t._v("message")]),t._v(" "),s("td",[t._v("str")]),t._v(" "),s("td",[t._v("返回信息")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("ttl")]),t._v(" "),s("td",[t._v("num")]),t._v(" "),s("td",[t._v("1")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("data")]),t._v(" "),s("td",[t._v("obj")]),t._v(" "),s("td",[t._v("信息本体")]),t._v(" "),s("td")])])]),t._v(" "),s("p",[s("code",[t._v("data")]),t._v("对象：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("字段")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("内容")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("geetest")]),t._v(" "),s("td",[t._v("obj")]),t._v(" "),s("td",[t._v("极验captcha数据")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("tencent")]),t._v(" "),s("td",[t._v("obj")]),t._v(" "),s("td",[t._v("(?)")]),t._v(" "),s("td",[s("strong",[t._v("作用尚不明确")])])]),t._v(" "),s("tr",[s("td",[t._v("token")]),t._v(" "),s("td",[t._v("str")]),t._v(" "),s("td",[t._v("登录 API token")]),t._v(" "),s("td",[t._v("与 captcha 无关，与登录接口有关")])]),t._v(" "),s("tr",[s("td",[t._v("type")]),t._v(" "),s("td",[t._v("str")]),t._v(" "),s("td",[t._v("验证方式")]),t._v(" "),s("td",[t._v("用于判断使用哪一种验证方式，目前所见只有极验"),s("br"),t._v("geetest：极验")])])])]),t._v(" "),s("p",[s("code",[t._v("geetest")]),t._v("对象：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("字段")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("内容")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("gt")]),t._v(" "),s("td",[t._v("str")]),t._v(" "),s("td",[t._v("极验id")]),t._v(" "),s("td",[t._v("一般为固定值")])]),t._v(" "),s("tr",[s("td",[t._v("challenge")]),t._v(" "),s("td",[t._v("str")]),t._v(" "),s("td",[t._v("极验KEY")]),t._v(" "),s("td",[t._v("由B站后端产生用于人机验证")])])])]),t._v(" "),s("p",[s("strong",[t._v("示例：")])]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://passport.bilibili.com/x/passport-login/captcha?source=main_web'")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("details",[s("summary",[t._v("查看响应示例：")]),t._v(" "),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"message"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ttl"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"geetest"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"token"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"00fbe75cc2864ba0af969231f193a974"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"geetest"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"challenge"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a57d9be17505d4a15ed84694c48fbf74"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"gt"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ac597a4506fee079629df5d8b66dd4fe"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tencent"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"appid"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br")])])]),t._v(" "),s("h3",{attrs:{id:"进行验证"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#进行验证"}},[t._v("#")]),t._v(" 进行验证")]),t._v(" "),s("p",[t._v("本文档为 Bilibili 文档，验证码为 "),s("a",{attrs:{href:"https://docs.geetest.com/sensebot/start/",target:"_blank",rel:"noopener noreferrer"}},[t._v("geetest 极验"),s("OutboundLink")],1),t._v(" 提供，故不提供相关 API")]),t._v(" "),s("p",[t._v("附: "),s("a",{attrs:{href:"https://kuresaru.github.io/geetest-validator/",target:"_blank",rel:"noopener noreferrer"}},[t._v("手动验证器"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://github.com/kuresaru/geetest-validator",target:"_blank",rel:"noopener noreferrer"}},[t._v("及其源码"),s("OutboundLink")],1)]),t._v(" "),s("ol",[s("li",[t._v("打开手动验证器，在1、2分别填入上面API返回的"),s("code",[t._v("gt")]),t._v("和"),s("code",[t._v("challenge")])]),t._v(" "),s("li",[t._v("点击按钮3，稍等加载验证码，点击按钮4进行验证")]),t._v(" "),s("li",[t._v("验证完成后，点击按钮5生成验证结果")]),t._v(" "),s("li",[t._v("使用最开始获得到的"),s("code",[t._v("key")]),t._v("、"),s("code",[t._v("challenge")]),t._v("和刚获得到的"),s("code",[t._v("validate")]),t._v("、"),s("code",[t._v("seccode")]),t._v("继续之后的登录操作")])]),t._v(" "),s("h3",{attrs:{id:"继续登录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#继续登录"}},[t._v("#")]),t._v(" 继续登录")]),t._v(" "),s("ul",[s("li",[s("RouterLink",{attrs:{to:"/docs/login/login_action/SMS.html"}},[t._v("短信登录")])],1),t._v(" "),s("li",[s("RouterLink",{attrs:{to:"/docs/login/login_action/password.html"}},[t._v("密码登录")])],1)])])}),[],!1,null,null,null);s.default=r.exports}}]);